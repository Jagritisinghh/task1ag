const mongoose = require('mongoose');
const dotenv = require('dotenv');
dotenv.config();

mongoose.connect(process.env.DB_URI, {
    
}).then(() => console.log("MongoDB Connected"))
  .catch(err => console.log(err));

const featuresModel = require('./featuresModel'); // Ensure the correct path is set

// Correct schema name to "PlanSchema"
const PlanSchema = new mongoose.Schema({
    plan: {
        type: String,
        unique: true
    },
    price: {
        type: Number,
    },
    features: [featuresModel.schema] // Embedding the features schema
});

// Exporting PlanSchema correctly
module.exports = mongoose.model("Plan", PlanSchema);
